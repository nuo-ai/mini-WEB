__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'miniprogram_npm/weui-miniprogram/searchbar/searchbar':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"focus":new Array(1),"placeholder":new Array(2)},K=U===true,e=(C)=>{},f=(C)=>{},g,i=(C)=>{},h=(C,T,E)=>{if(g===1){E("view",{},(N,C)=>{if(C)L(N,"weui-icon-clear");if(C)O(N,"hover-class","weui-hover-active");if(C)O(N,"bindtap","clearInput");if(C)O(N,"aria-role","button");if(C)O(N,"aria-label","清除")},i)}},d=(C,T,E,B)=>{E("icon",{},(N,C)=>{if(C)L(N,"weui-icon-search");if(C)O(N,"type","search");if(C)O(N,"size","12")},e);E("input",{},(N,C)=>{if(C)L(N,"weui-search-bar__input");if(C)O(N,"aria-controls","searchResult");if(C)O(N,"type","text");if(C||K||U.placeholder)O(N,"placeholder",D.placeholder);A["placeholder"][0]=(D,E,T)=>{O(N,"placeholder",D.placeholder);E(N)};if(C||K||U.value)O(N,"value",D.value);if(C||K||U.focus)O(N,"focus",D.focus);A["focus"][0]=(D,E,T)=>{O(N,"focus",D.focus);E(N)};if(C)O(N,"bindblur","inputBlur");if(C)O(N,"bindfocus","inputFocus");if(C)O(N,"bindinput","inputChange")},f);g=X(D.value).length>0?1:0;B(g,h)},k=(C)=>{},l=(C,T)=>{C||K||U.placeholder?T(Y(D.placeholder),(N)=>{A["placeholder"][1]=(D,E,T)=>{T(N,Y(D.placeholder))}}):T()},j=(C,T,E)=>{E("icon",{},(N,C)=>{if(C)L(N,"weui-icon-search");if(C)O(N,"type","search");if(C)O(N,"size","12")},k);E("text",{},(N,C)=>{if(C)L(N,"weui-search-bar__text");if(C)O(N,"aria-hidden",true)},l)},c=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"weui-search-bar__box")},d);E("label",{},(N,C)=>{if(C)L(N,"weui-search-bar__label");if(C)O(N,"bindtap","showInput");if(C)R.i(N,"searchText")},j)},m,o=(C,T)=>{C||K||U.cancelText?T(Y(D.cancelText)):T()},n=(C,T,E)=>{if(m===1){E("view",{},(N,C)=>{if(C)L(N,"weui-search-bar__cancel-btn");if(C)O(N,"bindtap","hideInput");if(C)O(N,"aria-role","button")},o)}},b=(C,T,E,B)=>{E("view",{},(N,C)=>{if(C)L(N,"weui-search-bar__form");if(C)O(N,"aria-role","combobox");if(C)O(N,"aria-haspopup",true);if(C||K||U.searchState)O(N,"aria-expanded",D.searchState);if(C)O(N,"aria-owns","searchResult")},c);m=D.cancel&&D.searchState?1:0;B(m,n)},p,s=(C,t,u,v,w,x,T,E)=>{var z=(C,T)=>{C||K||Z(v,"text")?T(Y(X(t).text)):T()},y=(C,T,E)=>{E("view",{},(N,C)=>{},z)};E("mp-cell",{},(N,C)=>{if(C)L(N,"result");if(C)O(N,"bindtap","selectResult");if(C)O(N,"body-class","weui-cell_primary");if(C)O(N,"hover",true);if(C)O(N,"aria-role","option");if(C||K||w)R.d(N,"index",u)},y)},r=(C,T,E,B,F)=>{F(D.result,"index",U?U.result:undefined,[0,"result"],s)},q=(C,T,E)=>{if(p===1){E("mp-cells",{},(N,C)=>{if(C)O(N,"aria-role","listbox");if(C||K||!!U.extClass||undefined)O(N,"ext-class"," "+Y("searchbar-result "+D.extClass));if(C)R.i(N,"searchResult")},r)}},a=(C,T,E,B)=>{E("view",{},(N,C)=>{var $A=D.searchState;if(C||K||!!(U.searchState||($A?undefined:undefined)||U.extClass)||undefined)L(N,"weui-search-bar "+Y($A?"weui-search-bar_focusing":"")+" "+Y(D.extClass))},b);p=D.searchState&&X(D.result).length>0?1:0;B(p,q)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "miniprogram_npm/weui-miniprogram/searchbar/searchbar";__wxRouteBegin = true;__wxAppCurrentFile__="miniprogram_npm/weui-miniprogram/searchbar/searchbar.js";define("miniprogram_npm/weui-miniprogram/searchbar/searchbar.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";module.exports=require("../_commons/0.js")([{ids:[18],modules:{209:function(t,e){Component({properties:{extClass:{type:String,value:""},focus:{type:Boolean,value:!1},placeholder:{type:String,value:"搜索"},value:{type:String,value:"",observer:"valueChange"},search:{type:null,value:null},throttle:{type:Number,value:500},cancelText:{type:String,value:"取消"},cancel:{type:Boolean,value:!0}},data:{result:[]},lastSearch:Date.now(),lifetimes:{attached:function(){this.data.focus&&this.setData({searchState:!0})}},methods:{valueChange:function(){this.data.value&&this.setData({searchState:!0})},clearInput:function(){this.setData({value:"",focus:!1,result:[]}),this.triggerEvent("clear")},inputFocus:function(t){this.triggerEvent("focus",t.detail)},inputBlur:function(t){this.setData({focus:!1}),this.triggerEvent("blur",t.detail)},showInput:function(){this.setData({focus:!0,searchState:!0})},hideInput:function(){this.setData({searchState:!1}),this.triggerEvent("cancel")},inputChange:function(t){var e=this;this.setData({value:t.detail.value}),this.triggerEvent("input",t.detail),Date.now()-this.lastSearch<this.data.throttle||"function"==typeof this.data.search&&(this.lastSearch=Date.now(),this.timerId=setTimeout((function(){e.data.search(e.data.value).then((function(t){e.setData({result:t})})).catch((function(t){console.error("search error",t)}))}),this.data.throttle))},selectResult:function(t){var e=t.currentTarget.dataset.index,a=this.data.result[e];this.triggerEvent("selectresult",{index:e,item:a})}}})},23:function(t,e,a){t.exports=a(209)}},entries:[[23,0]]}]);
},{isPage:false,isComponent:true,currentFile:'miniprogram_npm/weui-miniprogram/searchbar/searchbar.js'});require("miniprogram_npm/weui-miniprogram/searchbar/searchbar.js");