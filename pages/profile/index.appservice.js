__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/profile/index':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"info":new Array(2),"user":new Array(1),"binding":new Array(1)},K=U===true,d=(C,T)=>{C?T("个人信息"):T()},c=(C,T,E)=>{E("view",{},(N,C)=>{if(C)O(N,"bindtap","preview")},d)},f=(C)=>{},g=(C)=>{},i=(C)=>{},j=(C)=>{},h=(C,T,E)=>{E("user-profile-username",{},(N,C)=>{if(C||K||Z(U.info,"username"))O(N,"username",X(D.info).username);A["info"][0]=(D,E,T)=>{O(N,"username",X(D.info).username);E(N)};if(C)R.v(N,"set","set",!1,!1,!1,!1)},i);E("user-profile-gender",{},(N,C)=>{if(C||K||Z(U.info,"gender"))O(N,"gender",X(D.info).gender);A["info"][1]=(D,E,T)=>{O(N,"gender",X(D.info).gender);E(N)};if(C)R.v(N,"set","set",!1,!1,!1,!1)},j)},e=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"scroll-container__more");if(C)O(N,"src","/assets/icons/ellipsis-vertical-light.svg");if(C)O(N,"mode","aspectFit");if(C)O(N,"bindtap","more")},f);E("user-profile-avatar",{},(N,C)=>{if(C||K||Z(U.user,"avatar"))O(N,"avatar",X(D.user).avatar);A["user"][0]=(D,E,T)=>{O(N,"avatar",X(D.user).avatar);E(N)};if(C)R.v(N,"avatar","init",!1,!1,!1,!1)},g);E("scroll-view",{},(N,C)=>{if(C)L(N,"scroll-content");if(C||K||undefined)O(N,"enable-passive",true);if(C||K||undefined)O(N,"scroll-y",true);if(C||K||undefined)O(N,"enhanced",true);if(C||K||undefined)O(N,"show-scrollbar",false)},h)},m=(C,T)=>{C?T("保 存"):T()},l=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"operation-container__btn");if(C)O(N,"bindtap","save")},m)},p=(C,T)=>{C?T("注销账号"):T()},o=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"operation-intro__btn");if(C)O(N,"bindtap","unregister")},p);C?T("，注销后无法恢复，请谨慎操作"):T()},n=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"operation-intro__text")},o)},s=(C,T)=>{C?T("《六六找房隐私政策》"):T()},r=(C,T,E)=>{C?T("查看"):T();E("text",{},(N,C)=>{if(C)L(N,"operation-intro__btn");if(C)O(N,"bindtap","nav");if(C)R.d(N,"name","隐私政策");if(C)R.d(N,"path","privacy")},s);C?T("，了解 隐私政策概要、个人信息收集、第三方信息共享、权限清单等相关信息"):T()},u=(C,T)=>{C?T("《用户协议》"):T()},v=(C,T)=>{C?T("《免责声明》"):T()},w=(C,T)=>{C?T("《儿童隐私保护》"):T()},t=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"operation-intro__btn");if(C)O(N,"bindtap","nav");if(C)R.d(N,"name","用户协议");if(C)R.d(N,"path","agreement/user")},u);C?T("和"):T();E("text",{},(N,C)=>{if(C)L(N,"operation-intro__btn");if(C)O(N,"bindtap","nav");if(C)R.d(N,"name","免责声明");if(C)R.d(N,"path","agreement/responsibility")},v);C?T("和"):T();E("text",{},(N,C)=>{if(C)L(N,"operation-intro__btn");if(C)O(N,"bindtap","nav");if(C)R.d(N,"name","儿童隐私保护申明");if(C)R.d(N,"path","children/privacy")},w)},q=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"operation-intro__text")},r);E("view",{},(N,C)=>{if(C)L(N,"operation-intro__text")},t)},k=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"operation-container")},l);E("view",{},(N,C)=>{if(C)L(N,"operation-intro")},n);E("view",{},(N,C)=>{if(C)L(N,"operation-intro")},q)},x=(C)=>{},b=(C,T,E)=>{E("nav-bar",{},(N,C)=>{if(C)O(N,"backtab","dashboard");if(C)O(N,"title","个人信息")},c);E("view",{},(N,C)=>{if(C)L(N,"scroll-container scroll-container-card")},e);E("view",{},(N,C)=>{if(C)L(N,"footer-operation")},k);E("bind-panel",{},(N,C)=>{if(C||K||U.binding)O(N,"show",D.binding);A["binding"][0]=(D,E,T)=>{O(N,"show",D.binding);E(N)};if(C)R.v(N,"phone","init",!1,!1,!1,!1);if(C)R.v(N,"close","ask",!1,!1,!1,!1)},x)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container container-flex")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/profile/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/profile/index.js";define("pages/profile/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../@babel/runtime/helpers/defineProperty"),t=require("../../DEA51EB285E1369CB8C376B5DD322695.js"),n=a(require("../../6EFD26C485E1369C089B4EC348622695.js")),i=a(require("../../737EDC9385E1369C1518B494D3412695.js"));function a(e){return e&&e.__esModule?e:{default:e}}Page({behaviors:[i.default],data:{user:null,info:{username:"",gender:"",phone:""},protocols:[{name:"隐私政策概要",path:"privacy"},{name:"个人信息收集",path:"privacy"},{name:"第三方信息共享",path:"privacy"},{name:"权限清单",path:"privacy"}],binding:!1,count:0},onLoad:function(){this.init()},preview:function(){if(3==this.data.count){var e=n.default.getToken("test");n.default.cleanToken(),n.default.setValue("test","preview"==e?"test":"preview"),wx.reLaunch({url:"/pages/index/index"})}else this.setData({count:this.data.count+1})},sync:function(t){for(var n in this.setData({user:t,binding:!1}),this.data.info)this.setData(e({},"info.".concat(n),t[n]))},init:function(){var e=this;(0,t.getUserProfile)({success:function(t){e.sync(t.user)}})},ask:function(){this.setData({binding:!this.data.binding})},set:function(t){var n=t.detail.name,i=t.detail.value;this.setData(e({},"info.".concat(n),i))},nav:function(e){var t=e.currentTarget.dataset.name,n=e.currentTarget.dataset.path;wx.navigateTo({url:"/pages/website/index?website=".concat(n,"&title=").concat(t)})},save:function(){wx.showLoading({title:"提交中...",mask:!0}),(0,t.updateUserProfile)({data:{username:this.data.info.username,gender:this.data.info.gender},success:function(){wx.hideLoading(),wx.navigateBack()}})},unregister:function(){var e=this;wx.showModal({title:"注销账号",content:"账号注销后，该账号及账号下的所有信息都将无法恢复，请谨慎操作",confirmText:"确认注销",confirmColor:"#cd3b3e",success:function(n){n.confirm&&(0,t.unregisterUser)({success:function(){e.clear(),wx.reLaunch({url:"/pages/index/index"})}})}})},more:function(){var e=this;wx.showActionSheet({itemList:["退出登录"],success:function(t){0==t.tapIndex&&wx.showModal({title:"退出登录",content:"确定要退出该用户登录吗？",success:function(t){t.confirm&&(e.clear(),wx.reLaunch({url:"/pages/index/index"}))}})}})}});
},{isPage:true,isComponent:true,currentFile:'pages/profile/index.js'});require("pages/profile/index.js");