__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/topics/index':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"descs":new Array(1),"operation_name":new Array(1),"toggle":new Array(1)},K=U===true,d,f=(C,T)=>{C||K||!!Z(U.filters,"tag")||undefined?T(Y("#"+Y(X(D.filters).tag)+"#")):T()},g=(C,T)=>{C?T("Ta的动态"):T()},i=(C,T)=>{C?T("我的动态"):T()},k=(C)=>{},l=(C,T)=>{C?T("发布"):T()},j=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"message-title__config_icon");if(C)O(N,"src","/assets/icons/plus-sharp-light.svg");if(C)O(N,"mode","aspectFit")},k);E("view",{},(N,C)=>{if(C)L(N,"message-title__config_text")},l)},h=(C,T,E)=>{E("view",{},(N,C)=>{},i);E("view",{},(N,C)=>{if(C)L(N,"message-title__config");if(C)O(N,"bindtap","publish")},j)},m=(C,T)=>{C?T("搜索动态"):T()},e=(C,T,E)=>{if(d===1){E("view",{},(N,C)=>{},f)}else if(d===2){E("view",{},(N,C)=>{},g)}else if(d===3){E("view",{},(N,C)=>{if(C)L(N,"message-title")},h)}else if(d===4){E("view",{},(N,C)=>{},m)}},c=(C,T,E,B)=>{d=D.category=="tag"?1:D.category=="object_uid"?2:D.category=="my"?3:D.category=="keyword"?4:0;B(d,e)},n,q=(C)=>{},r=(C,T)=>{C?T("搜索"):T()},p=(C,T,E)=>{E("input",{},(N,C)=>{if(C)L(N,"search-bar__input");if(C||K||!!Z(U.filters,"city")||undefined)O(N,"placeholder","在"+Y(X(D.filters).city)+"搜索");if(C||K||Z(U.filters,"keyword"))O(N,"value",X(D.filters).keyword);if(C)O(N,"bindinput","set");if(C)O(N,"bindconfirm","refresh");if(C||K||undefined)O(N,"auto-focus",true)},q);E("view",{},(N,C)=>{if(C)L(N,"search-bar__btn");if(C)O(N,"bindtap","refresh")},r)},o=(C,T,E)=>{if(n===1){E("view",{},(N,C)=>{if(C)L(N,"search-bar card")},p)}},u=(C,v,w,x,y,z,T,E)=>{var A0=(C)=>{};E("topic-item",{},(N,C)=>{if(C||K||x)O(N,"topic",v);if(C||K||Z(U.filters,"city"))O(N,"city",X(D.filters).city);if(C||K||Z(U.filters,"tag"))O(N,"tag",X(D.filters).tag);if(C||K||U.category)O(N,"category",D.category);if(C||K||y)R.d(N,"index",w);if(C)R.v(N,"remove","update",!1,!1,!1,!1);if(C)R.v(N,"opt","deal",!1,!1,!1,!1)},A0)},v,y=(C,T)=>{C?T("暂无动态"):T()},x=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"empty-notification__text disable")},y)},w=(C,T,E)=>{if(v===1){E("view",{},(N,C)=>{if(C)L(N,"empty-notification")},x)}},z=(C)=>{},t=(C,T,E,B,F)=>{F(D.list,"index",U?U.list:undefined,[0,"list"],u);v=!D.initializing&&!D.searching&&X(D.list).length<=0?1:0;B(v,w);E("view",{},(N,C)=>{if(C)L(N,"scroll-bottom-space")},z)},s=(C,T,E)=>{E("scroll-view",{},(N,C)=>{if(C)L(N,"scroll-content");if(C||K||undefined)O(N,"enable-passive",true);if(C||K||undefined)O(N,"scroll-y",true);if(C||K||undefined)O(N,"enhanced",true);if(C||K||undefined)O(N,"show-scrollbar",false);if(C||K||undefined)O(N,"refresher-enabled",true);if(C)O(N,"bindrefresherrefresh","refresh");if(C)O(N,"bindscrolltolower","next");if(C||K||U.searching)O(N,"refresher-triggered",D.searching)},t)},A0=(C)=>{},b=(C,T,E,B)=>{E("nav-bar",{},(N,C)=>{if(C)O(N,"title","动态")},c);n=D.category=="keyword"?1:0;B(n,o);E("view",{},(N,C)=>{if(C)L(N,"scroll-container scroll-container-tab")},s);E("signin-panel",{},(N,C)=>{if(C||K||U.toggle)O(N,"show",D.toggle);A["toggle"][0]=(D,E,T)=>{O(N,"show",D.toggle);E(N)};var $A=D.operation_name;if(C||K||!!U.operation_name||Z(U.descs,$A))O(N,"desc",X(D.descs)[$A]);A["descs"][0]=A["operation_name"][0]=(D,E,T)=>{var $B=D.operation_name;O(N,"desc",X(D.descs)[$B]);E(N)};if(C)R.v(N,"login","confirm",!1,!1,!1,!1);if(C)R.v(N,"quit","cancel",!1,!1,!1,!1)},A0)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container container-flex")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/topics/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/topics/index.js";define("pages/topics/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=require("../../@babel/runtime/helpers/defineProperty"),e=require("../../9919E58585E1369CFF7F8D8299222695.js"),a=r(require("../../7F02D25785E1369C1964BA5069212695.js")),i=r(require("../../6EFD26C485E1369C089B4EC348622695.js")),s=r(require("../../D2A2D91485E1369CB4C4B113C6612695.js")),n=r(require("../../737EDC9385E1369C1518B494D3412695.js"));function r(t){return t&&t.__esModule?t:{default:t}}Page({behaviors:[a.default,s.default,n.default],data:{filters:{city:"",object_uid:"",tag:"",keyword:"",sequence:""},descs:{contact:"联系对方",chat:"发送私信"},category:""},fetch:e.searchTopicList,onLoad:function(e){for(var a in"object_uid"==e.category&&e.object_uid==i.default.getToken("uid")?this.setData({category:"my"}):this.setData({category:e.category}),e)"category"!=a&&this.setData(t({},"filters.".concat(a),e[a]));"keyword"!=this.data.category&&this.init()},init:function(){this.search("")},set:function(t){this.setData({"filters.keyword":t.detail.value})},update:function(t){var e=t.currentTarget.dataset.index;this.data.list.splice(e,1),this.setData({list:this.data.list})},publish:function(){wx.navigateTo({url:"/pages/trend/index"})},confirm:function(){this.setData({toggle:!1}),this.mask(),this["".concat(this.data.operation_name)]()},cancel:function(){this.mask(),this.clear()},deal:function(t){var e=t.detail.name,a=t.currentTarget.dataset.index;this.setData({topic:this.data.list[a]}),this[e]&&this[e]()},chat:function(){var t=this;this.setData({operation_name:"chat"}),this.handle((function(){t.transmit()}))},contact:function(){var t=this;this.setData({operation_name:"contact"}),this.handle((function(){t.communicate()}))},onShareAppMessage:function(){return this.config("message")}});
},{isPage:true,isComponent:true,currentFile:'pages/topics/index.js'});require("pages/topics/index.js");