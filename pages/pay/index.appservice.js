__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/pay/index':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"toggle":new Array(1)},K=U===true,d=(C,T)=>{C?T("支付"):T()},c=(C,T,E)=>{E("view",{},(N,C)=>{},d)},f,i=(C)=>{},j=(C,T)=>{C?T("支付成功"):T()},h=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"empty-notification__icon");if(C)O(N,"src","/assets/icons/circle-check-sharp-solid.svg");if(C)O(N,"mode","aspectFit")},i);E("view",{},(N,C)=>{if(C)L(N,"empty-notification__text");if(C)R.y(N,"font-size:12pt")},j)},l=(C,T)=>{C||K||Z(U.info,"subject")?T(Y(X(D.info).subject)):T()},n=(C,T)=>{C||K||Z(U.info,"money")?T(Y(X(D.info).money)):T()},m=(C,T,E)=>{C?T("￥"):T();E("text",{},(N,C)=>{if(C)L(N,"payment-info__price_number")},n);C?T("元"):T()},k=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"payment-info__title")},l);E("view",{},(N,C)=>{if(C)L(N,"payment-info__price")},m)},g=(C,T,E)=>{if(f===1){E("view",{},(N,C)=>{if(C)L(N,"empty-notification")},h)}else{E("view",{},(N,C)=>{},k)}},e=(C,T,E,B)=>{f=D.payed?1:0;B(f,g)},q,s=(C,T)=>{C?T("立即支付"):T()},t=(C,T)=>{C?T("返回App"):T()},r=(C,T,E)=>{if(q===1){E("view",{},(N,C)=>{if(C)L(N,"operation-container__btn");if(C)O(N,"bindtap","check")},s)}else{E("button",{},(N,C)=>{if(C)L(N,"operation-container__btn");if(C)R.y(N,"width:100%;");if(C)O(N,"open-type","launchApp");if(C)O(N,"app-parameter","payback")},t)}},p=(C,T,E,B)=>{q=!D.payed?1:0;B(q,r)},o=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"operation-container")},p)},u=(C)=>{},b=(C,T,E)=>{E("nav-bar",{},(N,C)=>{if(C)O(N,"backtab","dashboard");if(C)O(N,"title","支付")},c);E("view",{},(N,C)=>{if(C)L(N,"payment-info page-swiper card")},e);E("view",{},(N,C)=>{if(C)L(N,"footer-operation")},o);E("signin-panel",{},(N,C)=>{if(C||K||U.toggle)O(N,"show",D.toggle);A["toggle"][0]=(D,E,T)=>{O(N,"show",D.toggle);E(N)};if(C)R.v(N,"login","confirm",!1,!1,!1,!1);if(C)R.v(N,"quit","cancel",!1,!1,!1,!1)},u)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container container-flex")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/pay/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/pay/index.js";define("pages/pay/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,a=require("../../@babel/runtime/helpers/objectSpread2"),i=(t=require("../../737EDC9385E1369C1518B494D3412695.js"))&&t.__esModule?t:{default:t},e=require("../../7D59F92785E1369C1B3F9120B7122695.js");Page({behaviors:[i.default],data:{info:null,canApp:!1,payed:!1},onLoad:function(t){this.setData({info:t}),this.check(),this.init()},check:function(){var t=this;this.handle((function(){t.pay()}))},pay:function(){var t=this;wx.showLoading({title:"准备支付...",mask:!0}),(0,e.payCheckment)({data:this.data.info,success:function(i){wx.hideLoading(),wx.requestPayment(a(a({},i.data),{},{success:function(){t.setData({payed:!0}),wx.showToast({icon:"success",title:"支付成功"})},fail:function(a){t.setData({payed:!1}),wx.showToast({icon:"error",title:"支付已取消"})}}))},fail:function(){t.setData({payed:!0})}})},init:function(){var t=wx.getLaunchOptionsSync().scene;1038==t||1089==t||1090==t?this.setData({canApp:this.data.canApp}):1069==t||1036==t?this.setData({canApp:!0}):this.setData({canApp:!1})},confirm:function(){this.setData({toggle:!1}),this.mask(),this.pay()},cancel:function(){this.mask(),this.clear()}});
},{isPage:true,isComponent:true,currentFile:'pages/pay/index.js'});require("pages/pay/index.js");