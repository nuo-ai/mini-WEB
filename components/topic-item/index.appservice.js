__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'components/topic-item/index':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={},K=U===true,d=(C)=>{},f=(C,T)=>{C||K||Z(Z(U.topic,"user"),"username")?T(Y(X(X(D.topic).user).username)):T()},h=(C,T)=>{C||K||Z(U.topic,"format_create_time")?T(Y(X(D.topic).format_create_time)):T()},i,l=(C)=>{},k=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__user_icon");if(C)O(N,"src","/assets/icons/location-dot-sharp-thin.svg");if(C)O(N,"mode","aspectFit")},l);C||K||Z(U.topic,"poi_name")?T(Y(X(D.topic).poi_name)):T()},j=(C,T,E)=>{if(i===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__user_geo");if(C)O(N,"bindtap","geo")},k)}},g=(C,T,E,B)=>{E("view",{},(N,C)=>{if(C)L(N,"topic-item__user_create")},h);i=X(D.topic).poi_name?1:0;B(i,j)},e=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"topic-item__user_username ~ellipsis");if(C)O(N,"bindtap","search");if(C)R.d(N,"prop","object_uid");if(C||K||Z(Z(U.topic,"user"),"id"))R.d(N,"value",X(X(D.topic).user).id)},f);E("view",{},(N,C)=>{if(C)L(N,"topic-item__user_time")},g)},c=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__user_avatar");if(C||K||Z(Z(Z(U.topic,"user"),"avatar"),"src"))O(N,"src",X(X(X(D.topic).user).avatar).src);if(C)O(N,"mode","aspectFill");if(C)O(N,"bindtap","search");if(C)R.d(N,"prop","object_uid");if(C||K||Z(Z(U.topic,"user"),"id"))R.d(N,"value",X(X(D.topic).user).id)},d);E("view",{},(N,C)=>{if(C)L(N,"topic-item__user_info")},e)},m,p,r=(C,T)=>{C||K||Z(U.topic,"content")?T(Y(X(D.topic).content)):T()},q=(C,T,E)=>{if(p===1){E("view",{},(N,C)=>{if(C)L(N,"~ellipsis-line")},r)}},s,u=(C,T)=>{C?T("全文"):T()},t=(C,T,E)=>{if(s===1){E("text",{},(N,C)=>{if(C)L(N,"topic-item__content_more")},u)}},o=(C,T,E,B)=>{p=!D.specific?1:0;B(p,q);s=X(X(D.topic).content).length>50?1:0;B(s,t)},w=(C,T)=>{C||K||Z(U.topic,"content")?T(Y(X(D.topic).content)):T()},v=(C,T,E)=>{E("text",{},(N,C)=>{if(C)O(N,"user-select",true)},w)},n=(C,T,E)=>{if(m===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__content");if(C)O(N,"bindtap","visit")},o)}else{E("view",{},(N,C)=>{if(C)L(N,"topic-item__content")},v)}},x,A0=(C,B0,C0,D0,E0,F0,T,E)=>{var H0=(C)=>{},G0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__gallery_poster");if(C||K||Z(D0,"medium"))O(N,"src",X(B0).medium);if(C)O(N,"mode","aspectFill");if(C||K||undefined)O(N,"lazy-load",true)},H0)};E("view",{},(N,C)=>{var $A=X(X(D.topic).photos).length>4;if(C||K||!!(Z(Z(U.topic,"photos"),"length")||($A?undefined:undefined))||undefined)L(N,"topic-item__gallery_item "+Y($A?"small":""));if(C)O(N,"bindtap","view");if(C||K||E0)R.d(N,"index",C0)},G0)},z=(C,T,E,B,F)=>{F(X(D.topic).photos,"index",U?Z(U.topic,"photos"):undefined,[0,"topic","photos"],A0)},y=(C,T,E)=>{if(x===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__gallery")},z)}},B0,E0=(C,F0,G0,H0,I0,J0,T,E)=>{var L0=(C)=>{},M0=(C)=>{},K0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__gallery_icon");if(C)O(N,"src","/assets/icons/circle-play-sharp-regular.svg");if(C)O(N,"mode","aspectFit")},L0);E("image",{},(N,C)=>{if(C)L(N,"topic-item__gallery_poster");if(C||K||Z(H0,"screenshot"))O(N,"src",X(F0).screenshot);if(C)O(N,"mode","aspectFill")},M0)};E("view",{},(N,C)=>{if(C)L(N,"topic-item__gallery_item");if(C)O(N,"bindtap","play");if(C||K||I0)R.d(N,"index",G0)},K0)},D0=(C,T,E,B,F)=>{F(X(D.topic).videos,"index",U?Z(U.topic,"videos"):undefined,[0,"topic","videos"],E0)},C0=(C,T,E)=>{if(B0===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__gallery")},D0)}},G0=(C,H0,I0,J0,K0,L0,T,E)=>{var M0=(C,T)=>{C||K||!!J0||undefined?T(Y("# "+Y(H0)+" #")):T()};E("view",{},(N,C)=>{if(C)L(N,"topic-item__tags_item");if(C)O(N,"bindtap","search");if(C)R.d(N,"prop","tag");if(C||K||J0)R.d(N,"value",H0)},M0)},F0=(C,T,E,B,F)=>{F(X(D.topic).tag_list,"index",U?Z(U.topic,"tag_list"):undefined,[0,"topic","tag_list"],G0)},I0,L0=(C)=>{},K0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__opts_icon");if(C)O(N,"src","/assets/icons/pen-to-square-sharp-light.svg");if(C)O(N,"mode","aspectFit")},L0)},J0=(C,T,E)=>{if(I0===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__opts_item");if(C)R.y(N,"color:#08979C");if(C)O(N,"bindtap","edit")},K0)}},M0,P0=(C)=>{},O0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__opts_icon");if(C)O(N,"src","/assets/icons/phone-sharp-light.svg");if(C)O(N,"mode","aspectFit")},P0)},N0=(C,T,E)=>{if(M0===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__opts_item");if(C)O(N,"bindtap","contact")},O0)}},Q0,T0=(C)=>{},S0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__opts_icon");if(C)O(N,"src","/assets/icons/message-sharp-light.svg");if(C)O(N,"mode","aspectFit")},T0)},R0=(C,T,E)=>{if(Q0===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__opts_item");if(C)O(N,"bindtap","chat")},S0)}},V0=(C)=>{},U0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__opts_icon");if(C)O(N,"src","/assets/icons/share-nodes-sharp-light.svg");if(C)O(N,"mode","aspectFit")},V0)},W0,Z0=(C)=>{},Y0=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"topic-item__opts_icon");if(C)O(N,"src","/assets/icons/trash-can-sharp-light.svg");if(C)O(N,"mode","aspectFit")},Z0)},X0=(C,T,E)=>{if(W0===1){E("view",{},(N,C)=>{if(C)L(N,"topic-item__opts_item");if(C)R.y(N,"color:#666");if(C)O(N,"bindtap","remove")},Y0)}},H0=(C,T,E,B)=>{I0=X(D.topic).can_delete?1:0;B(I0,J0);M0=!X(D.topic).can_delete?1:0;B(M0,N0);Q0=!X(D.topic).can_delete?1:0;B(Q0,R0);E("button",{},(N,C)=>{if(C)L(N,"topic-item__opts_item");if(C)O(N,"open-type","share");if(C)O(N,"bindtap","share")},U0);W0=X(D.topic).can_delete?1:0;B(W0,X0)},b=(C,T,E,B,F,S)=>{S("");E("view",{},(N,C)=>{if(C)L(N,"topic-item__user")},c);m=!D.specific?1:0;B(m,n);x=X(X(D.topic).photos).length>0?1:0;B(x,y);B0=X(X(D.topic).videos).length>0?1:0;B(B0,C0);E("view",{},(N,C)=>{if(C)L(N,"topic-item__tags")},F0);E("view",{},(N,C)=>{if(C)L(N,"topic-item__opts")},H0)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"topic-item ~card")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "components/topic-item/index";__wxRouteBegin = true;__wxAppCurrentFile__="components/topic-item/index.js";define("components/topic-item/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,a=(t=require("../../EA0DCCC285E1369C8C6BA4C5DCE02695.js"))&&t.__esModule?t:{default:t},e=require("../../9919E58585E1369CFF7F8D8299222695.js");Component({behaviors:[a.default],properties:{topic:{type:Object,value:{}},city:{type:String,value:""},tag:{type:String,value:""},specific:{type:Boolean,value:!1},category:{type:String,value:""}},methods:{view:function(t){var a=t.currentTarget.dataset.index;this.browse(a,this.data.topic.photos)},play:function(t){var a=t.currentTarget.dataset.index;this.playVideo(this.data.topic.videos[a])},visit:function(){this.data.specific||wx.navigateTo({url:"/pages/topic/index?id=".concat(this.data.topic.id)})},search:function(t){var a=t.currentTarget.dataset.prop,e=t.currentTarget.dataset.value;"tag"==a?e!=this.data.tag&&wx.navigateTo({url:"/pages/topics/index?city=".concat(this.data.city,"&").concat(a,"=").concat(e,"&category=").concat(a)}):"object_uid"==a?this.data.topic.can_delete&&"my"==this.data.category||wx.navigateTo({url:"/pages/topics/index?".concat(a,"=").concat(e,"&category=").concat(a)}):this.data.specific||wx.navigateTo({url:"/pages/topics/index?city=".concat(this.data.city,"&").concat(a,"=").concat(e,"&category=").concat(a)})},geo:function(){var t=this.data.topic.poi_info;wx.openLocation({latitude:t.latitude,longitude:t.longitude,name:t.poi_name,address:t.road,scale:18})},edit:function(){wx.navigateTo({url:"/pages/trend/index?id=".concat(this.data.topic.id)})},chat:function(){this.triggerEvent("opt",{name:"chat"})},contact:function(){this.triggerEvent("opt",{name:"contact"})},share:function(){this.triggerEvent("opt",{name:"share"})},remove:function(){var t=this;wx.showModal({title:"删除动态",content:"确定要删除该条动态吗？",success:function(a){a.confirm&&(0,e.removeTopic)({data:t.data.topic.id,success:function(){t.triggerEvent("remove")}})}})}}});
},{isPage:false,isComponent:true,currentFile:'components/topic-item/index.js'});require("components/topic-item/index.js");